{"version":3,"sources":["app.js","components/sign-up.js","users/users.js","services/notes-service.js","services/users-service.js","notes/notes.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function() {\n  var app = angular.module('notely', [\n    'ui.router',\n    'notely.notes'\n  ]);\n\n  function config($urlRouterProvider) {\n    $urlRouterProvider.otherwise('/notes/'); //default route\n  };\n\n  config['$inject'] = ['$urlRouterProvider'];\n  app.config(config);\n\n  app.constant('API_BASE', 'http://localhost:3000/api/v1/');\n\n})();\n","angular.module('notely')\r\n.directive('signUp', ['UsersService', (UsersService) => {\r\n  class SignUpController {\r\n    constructor() {\r\n      this.user = {};\r\n    }\r\n    submit() {\r\n      UsersService.create(this.user);\r\n    }\r\n  }\r\n\r\n  return {\r\n    scope: {},\r\n    controller: SignUpController,\r\n    controllerAs: 'ctrl',\r\n    bindToController: true,\r\n    templateUrl: '/components/sign-up.html'\r\n  };\r\n}]);\r\n","(function() {\r\n  angular.module('notely')\r\n  .config(usersConfig);\r\n  usersConfig.$inject = ['$stateProvider'];\r\n  function usersConfig ($stateProvider) {\r\n    $stateProvider\r\n      .state('sign-up', {\r\n        url: '/sign-up',\r\n        template: '<sign-up></sign-up>'\r\n      });\r\n  };\r\n})();\r\n","angular.module('notely')\r\n  .service('NotesService', NotesService);\r\n\r\n// handle CRUD ops against the server\r\nNotesService.$inject = ['$http', 'API_BASE'];\r\nfunction NotesService($http, API_BASE) {\r\n  var self = this; // self == NotesService\r\n  self.notes = [];\r\n  self.users = [];\r\n\r\n  // Get all notes from server\r\n  self.fetch = function() {\r\n    return $http.get(API_BASE + 'notes')\r\n    .then(\r\n      // Success callback\r\n      function(response) {\r\n        self.notes = response.data;\r\n      },\r\n      // Failure callback\r\n      function(response) {\r\n        // TODO: Handle failure\r\n      }\r\n    );\r\n  };\r\n\r\n    self.get = function() {\r\n      return self.notes;\r\n    };\r\n\r\n    self.findById = function(noteId) {\r\n      // Look through `self.notes` for a note with a matching _id.\r\n      for (var i = 0; i < self.notes.length; i++) {\r\n        if (self.notes[i]._id === noteId) {\r\n          return angular.copy(self.notes[i]);\r\n        }\r\n      }\r\n      return {};\r\n    };\r\n  /*\r\n    self.findById = function(noteId) {\r\n      // Look through self.notes\r\n        for (var n in self.notes) {\r\n          console.log('note.title = ', n.title)\r\n          if (n.noteId == noteId)\r\n          return n;\r\n        }\r\n    };\r\n*/\r\n    self.create = function(note, callback) {\r\n      var noteCreatePromise = $http.post(API_BASE,\r\n        { note: note }\r\n      );\r\n      noteCreatePromise.then(function(response) {\r\n        self.notes.unshift(response.data.note);\r\n        //$state.go('notes.form', { noteId: response.data.note._id });\r\n      });\r\n      return noteCreatePromise;\r\n    }\r\n\r\n    self.update = function(note) {\r\n      console.log('self.update');\r\n      var noteUpdatePromise = $http.put(API_BASE + note._id,\r\n        {\r\n          note: {\r\n                  title: note.title,\r\n                  body_html: note.body_html\r\n                }\r\n        }\r\n        //self.notes.unshift(response.data.note);\r\n      );\r\n      noteUpdatePromise.then(function(response) {\r\n        console.log('self.update success')\r\n        self.replaceNote(response.data.note);\r\n      });\r\n      return noteUpdatePromise;\r\n    }\r\n\r\n    self.replaceNote = function(note) {\r\n      for (var i = 0; i < self.notes.length; i++) {\r\n        if (self.notes[i]._id === note._id) {\r\n          self.notes[i] = note;\r\n        }\r\n      }\r\n    };\r\n\r\n    self.delete = function(note) {\r\n      var noteDeletePromise = $http.delete(API_BASE + note._id);\r\n      noteDeletePromise.then(function(response) {\r\n        self.remove(response.data.note);\r\n      });\r\n      return noteDeletePromise;\r\n    };\r\n\r\n    self.remove = function(note) {\r\n      for (var i = 0; i < self.notes.length; i++) {\r\n        if (self.notes[i]._id === note._id) {\r\n          self.notes.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    };\r\n\r\n}\r\n","angular.module('notely')\r\n  .service('UsersService', ['$http', 'API_BASE', ($http, API_BASE) => {\r\n    class UsersService {\r\n      create(user) {\r\n        let userPromise = $http.post(`${API_BASE}users`,\r\n          {\r\n            user: user\r\n          });\r\n          userPromise.then((response) => {\r\n            console.log(response.data.user);\r\n          });\r\n          return userPromise;\r\n      }\r\n    }\r\n    return new UsersService();\r\n  }]);\r\n","(function() {\r\n  \r\n  angular.module('notely.notes', [\r\n    'ui.router',\r\n    'textAngular'\r\n  ])\r\n  .config(notesConfig);\r\n\r\n  notesConfig['$inject'] = ['$stateProvider']; // preserves D.I. under minification\r\n  function notesConfig($stateProvider) {\r\n    $stateProvider\r\n      // each url is a state\r\n\r\n      .state('notes', {\r\n        url: '/notes',\r\n        resolve: {\r\n          // see https://github.com/angular-ui/ui-router/wiki\r\n          notesLoaded: ['NotesService', function(NotesService) {\r\n            return NotesService.fetch();\r\n          }]\r\n        },\r\n        templateUrl: '/notes/notes.html', // inserted wherever UI directive <UI-veiw> is located\r\n        controller: NotesController\r\n      })\r\n\r\n      .state('notes.form', {  // make this a child state of notes using .form\r\n        url: '/:noteId',\r\n        templateUrl: '/notes/notes-form.html',\r\n        controller: NotesFormController\r\n        // Don't need this since it's a child of /notes\r\n        //controller: NotesController\r\n      });\r\n    }\r\n\r\n      NotesController['$inject'] = ['$state', '$scope', 'NotesService'];\r\n      function NotesController($state, $scope, NotesService) {\r\n        $scope.note = {};\r\n        $scope.notes = NotesService.get();\r\n      }\r\n\r\n      NotesFormController.$inject = ['$scope', '$state', 'NotesService'];\r\n      function NotesFormController($scope, $state, NotesService) {\r\n        $scope.note = NotesService.findById($state.params.noteId);\r\n\r\n        $scope.save = function() {\r\n          // Decide if we need to call create or update\r\n          if ($scope.note._id) {\r\n            NotesService.update($scope.note).then(function(response) {\r\n              $scope.note = angular.copy(response.data.note);\r\n            });\r\n          }\r\n          else {\r\n            NotesService.create($scope.note, function(response) {\r\n              $state.go('notes.form', { noteId: response.data.note._id })\r\n              });\r\n          }\r\n        };\r\n\r\n        $scope.delete = function() {\r\n          NotesService.delete($scope.note).then(function(response) {\r\n            $state.go('notes.form', { noteId: undefined });\r\n          });\r\n        };\r\n\r\n        $scope.buttonText = function() {\r\n          if ($scope.note._id) {\r\n            return 'Update';\r\n          }\r\n          return 'Save';\r\n        }\r\n\r\n      };\r\n})();\r\n"],"sourceRoot":"/source/"}